{"version":3,"sources":["images/profile-img.jpg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/ImagePopup.js","utils/api.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","serviceWorker.js","index.js","images/mesto.svg"],"names":["module","exports","Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","props","user","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","type","onClick","onCardDelete","id","name","link","onCardClick","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","card","key","Footer","PopupWithForm","isOpen","noValidate","onClose","title","children","submit","EditProfilePopup","useState","setName","description","setDescription","useEffect","onSubmit","e","preventDefault","value","onChange","target","placeholder","minLength","maxLength","required","ImagePopup","open","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","res","ok","json","Promise","reject","status","data","method","body","JSON","stringify","authorization","EditAvatarPopup","imageSrc","useRef","current","ref","AddPlacePopup","cardName","cardSrc","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","userAvatarDefault","currentUser","setCurrentUser","closeAllPopups","getUserInfo","console","log","catch","err","setCards","getInitialCards","Provider","sendUserInfo","postNewCard","newCard","changeAvatar","changeLikeCardStatus","newCards","c","deleteCard","filter","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"oGAAAA,EAAOC,QAAU,IAA0B,yC,kLCW5BC,MARf,WACE,OACE,4BAAQC,UAAU,UAChB,yBAAKA,UAAU,eAAeC,IAAKC,IAAYC,IAAI,iDCJ5CC,EAAqBC,IAAMC,gBCmCzBC,MAlCf,SAAcC,GACZ,IAAMC,EAAOJ,IAAMK,WAAWN,GACxBO,EAAQH,EAAMI,QAAUH,EAAKI,IAC7BC,EAAUN,EAAMO,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEJ,MAAQJ,EAAKI,OAC/CK,EAAyB,qBAAiBP,EAAQ,IAAM,qBACxDQ,EAAuB,6BAAyBL,EAAU,4BAA8B,KAgB9F,OACE,6BAASd,UAAU,SACjB,4BAAQA,UAAWkB,EAA2BE,KAAK,SAASC,QANhE,WACEb,EAAMc,aAAad,EAAMe,OAMvB,yBAAKvB,UAAU,eAAeG,IAAKK,EAAMgB,KAAMvB,IAAKO,EAAMiB,KAAMJ,QAjBpE,WACEb,EAAMkB,YAAYlB,EAAMgB,KAAMhB,EAAMiB,SAiBlC,wBAAIzB,UAAU,gBAAgBQ,EAAMgB,MACpC,yBAAKxB,UAAU,eACb,4BAAQA,UAAWmB,EAAyBC,KAAK,SAASC,QAfhE,WACEb,EAAMmB,WAAWnB,MAeb,0BAAMR,UAAU,qBAAqBQ,EAAMO,MAAMa,WCD1CC,MAzBf,SAAcrB,GACZ,IAAMC,EAAOJ,IAAMK,WAAWN,GAG9B,OACE,0BAAMJ,UAAU,WAChB,6BAASA,UAAU,WACjB,4BAAQA,UAAU,qBAAqBqB,QAASb,EAAMsB,cACpD,yBAAK9B,UAAU,eAAeC,IAAKQ,EAAKsB,OAAQ5B,IAAI,0CAEtD,yBAAKH,UAAU,gBACb,wBAAIA,UAAU,sBAAsBS,EAAKe,MACzC,4BAAQxB,UAAU,uBAAuBoB,KAAK,SAASC,QAASb,EAAMwB,gBACtE,uBAAGhC,UAAU,wBAAwBS,EAAKwB,QAE5C,4BAAQjC,UAAU,eAAeoB,KAAK,SAASC,QAASb,EAAM0B,cAEhE,6BAASlC,UAAU,UAChBQ,EAAM2B,MAAMC,KAAI,SAACC,GAAD,OAAW,kBAAC,EAAD,CAAMC,IAAKD,EAAKxB,IAAKU,GAAIc,EAAKxB,IAAKW,KAAMa,EAAKb,KAAMC,KAAMY,EAAKZ,KAAMV,MAAOsB,EAAKtB,MAAOH,MAAOyB,EAAKzB,MAAMC,IACtIa,YAAalB,EAAMkB,YAAaC,WAAYnB,EAAMmB,WAAYL,aAAcd,EAAMc,qBCdzEiB,MARf,WACE,OACE,4BAAQvC,UAAU,UAChB,uBAAGA,UAAU,qBAAb,4BCWSwC,MAdf,SAAuBhC,GAErB,OACE,6BAASR,UAAS,sBAAiBQ,EAAMgB,KAAvB,YAA+BhB,EAAMiC,OAAS,eAAiB,KAC/E,0BAAMzC,UAAS,4BAAuBQ,EAAMgB,KAA7B,UAA2CA,KAAMhB,EAAMgB,KAAMkB,YAAU,GACpF,4BAAQ1C,UAAS,6BAAwBQ,EAAMgB,KAA9B,WAA6CJ,KAAK,SAASC,QAASb,EAAMmC,UAC3F,wBAAI3C,UAAS,6BAAwBQ,EAAMgB,KAA9B,aAA+ChB,EAAMoC,OACjEpC,EAAMqC,SACP,4BAAQ7C,UAAS,8BAAyBQ,EAAMgB,KAA/B,YAA+CJ,KAAK,UAAUZ,EAAMsC,WCkC9EC,MAzCf,SAA0BvC,GACxB,IAAMC,EAAOJ,IAAMK,WAAWN,GADC,EAEPC,IAAM2C,SAAS,IAFR,mBAExBxB,EAFwB,KAElByB,EAFkB,OAGO5C,IAAM2C,SAAS,IAHtB,mBAGxBE,EAHwB,KAGXC,EAHW,KA0B/B,OArBA9C,IAAM+C,WAAU,WACdH,EAAQxC,EAAKe,MACb2B,EAAe1C,EAAKwB,SACnB,CAACxB,IAmBF,6BAAST,UAAS,8BAAyBQ,EAAMiC,OAAS,eAAiB,KACzE,0BAAMzC,UAAU,kCAAkCwB,KAAK,UAAU6B,SAVrE,SAAsBC,GACpBA,EAAEC,iBACF/C,EAAM6C,SAAS,CACb7B,OACAS,MAAOiB,KAMkFR,YAAU,GACjG,4BAAQ1C,UAAU,oCAAoCoB,KAAK,SAASC,QAASb,EAAMmC,UACnF,wBAAI3C,UAAU,qCAAd,6HACA,2BAAOA,UAAU,kCAAkCwD,MAAOhC,EAAMiC,SArBtE,SAA0BH,GACxBL,EAAQK,EAAEI,OAAOF,QAoB+EjC,GAAG,aAAaH,KAAK,OAAOI,KAAK,OAAOmC,YAAY,qBAAMC,UAAU,IAAIC,UAAU,KAAKC,UAAQ,IAC3L,0BAAM9D,UAAU,eAAeuB,GAAG,qBAClC,2BAAOvB,UAAU,kCAAkCwD,MAAON,EAAaO,SAnB7E,SAAiCH,GAC/BH,EAAeG,EAAEI,OAAOF,QAkBsFjC,GAAG,eAAeH,KAAK,OAAOI,KAAK,QAAQmC,YAAY,kCAASC,UAAU,IAAIC,UAAU,MAAMC,UAAQ,IAChN,0BAAM9D,UAAU,eAAeuB,GAAG,uBAClC,4BAAQvB,UAAU,sCAAsCoB,KAAK,UAA7D,6DCvBO2C,MAbf,SAAoBvD,GAElB,OACE,6BAASR,UAAS,0BAAqBQ,EAAM6B,KAAK2B,KAAO,eAAiB,KAC1E,4BAAQhE,UAAU,qBAChB,4BAAQA,UAAU,gCAAgCoB,KAAK,SAASC,QAASb,EAAMmC,UAC/E,yBAAK3C,UAAU,iBAAiBG,IAAKK,EAAM6B,KAAKb,KAAMvB,IAAKO,EAAM6B,KAAKZ,OACtE,gCAAYzB,UAAU,oBAAoBQ,EAAM6B,KAAKb,S,cCuG9CyC,EAAM,I,WA/GjB,cAAiC,IAApBC,EAAmB,EAAnBA,QAASC,EAAU,EAAVA,QAAU,oBAC9BC,KAAKC,SAAWH,EAChBE,KAAKE,SAAWH,E,8DAIhB,OAAOI,MAAM,GAAD,OAAIH,KAAKC,SAAT,UAA2B,CACrCF,QAASC,KAAKE,WACXE,MAAK,SAACC,GACP,OAAGA,EAAIC,GACED,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,oCAKzC,OAAOP,MAAM,GAAD,OAAIH,KAAKC,SAAT,aAA8B,CACxCF,QAASC,KAAKE,WACXE,MAAK,SAACC,GACP,OAAGA,EAAIC,GACED,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,mCAI9BC,GACX,OAAOR,MAAM,GAAD,OAAIH,KAAKC,SAAT,aAA8B,CACxCW,OAAQ,QACRb,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACnB3D,KAAMuD,EAAKvD,KACXS,MAAO8C,EAAK9C,UAEXuC,MAAK,SAACC,GACP,OAAGA,EAAIC,GACED,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,kCAI/BC,GACV,OAAOR,MAAM,GAAD,OAAIH,KAAKC,SAAT,UAA2B,CACrCW,OAAQ,OACRb,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACnB3D,KAAMuD,EAAKvD,KACXC,KAAMsD,EAAKtD,SAEV+C,MAAK,SAACC,GACP,OAAGA,EAAIC,GACED,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,iCAIhCvD,GACT,OAAOgD,MAAM,GAAD,OAAIH,KAAKC,SAAT,kBAA2B9C,GAAM,CAC3CyD,OAAQ,SACRb,QAASC,KAAKE,WACXE,MAAK,SAACC,GACP,OAAGA,EAAIC,GACED,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,2CAItBvD,EAAIT,GACvB,OAAOyD,MAAM,GAAD,OAAIH,KAAKC,SAAT,wBAAiC9C,GAAM,CACjDyD,OAAO,GAAD,OAAKlE,EAAU,SAAW,OAChCqD,QAASC,KAAKE,WACXE,MAAK,SAACC,GACP,OAAGA,EAAIC,GACED,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,kCAI/BvD,GACV,OAAOgD,MAAM,GAAD,OAAIH,KAAKC,SAAT,wBAAiC9C,GAAM,CACjDyD,OAAQ,SACRb,QAASC,KAAKE,WACXE,MAAK,SAACC,GACP,OAAGA,EAAIC,GACED,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,mCAI9BC,GACX,OAAOR,MAAM,GAAD,OAAIH,KAAKC,SAAT,oBAAqC,CAC/CW,OAAQ,QACRb,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACnBpD,OAAQgD,EAAKhD,WAEZyC,MAAK,SAACC,GACP,OAAGA,EAAIC,GACED,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,gB,KAK1B,CAAQ,CACzBZ,QAAS,8CACTC,QAAS,CACPiB,cAAe,uCACf,eAAgB,sB,iBCpFLC,MA9Bf,SAAyB7E,GACvB,IAAM8E,EAAWjF,IAAMkF,SAgBvB,OANAlF,IAAM+C,WAAU,WACX5C,EAAMiC,SACP6C,EAASE,QAAQhC,MAAQ,MAE1B,CAAChD,EAAMiC,SAGR,6BAASzC,UAAS,6BAAwBQ,EAAMiC,OAAS,eAAiB,KACxE,0BAAMzC,UAAU,iCAAiCwB,KAAK,SAAS6B,SAhBnE,SAAsBC,GACpBA,EAAEC,iBAEF/C,EAAM6C,SAAS,CACbtB,OAAQuD,EAASE,QAAQhC,SAY8Dd,YAAU,GAC/F,4BAAQ1C,UAAU,mCAAmCoB,KAAK,SAASC,QAASb,EAAMmC,UAClF,wBAAI3C,UAAU,oCAAd,yFACA,2BAAOyF,IAAKH,EAAUtF,UAAU,iCAAiCuB,GAAG,aAAaH,KAAK,MAAMI,KAAK,SAASmC,YAAY,qGAAqBG,UAAQ,IACnJ,0BAAM9D,UAAU,eAAeuB,GAAG,qBAClC,4BAAQvB,UAAU,qCAAqCoB,KAAK,UAA5D,6DCYOsE,MApCf,SAAuBlF,GACrB,IAAMmF,EAAWtF,IAAMkF,SACjBK,EAAUvF,IAAMkF,SAmBtB,OAPAlF,IAAM+C,WAAU,WACX5C,EAAMiC,SACPkD,EAASH,QAAQhC,MAAQ,GACzBoC,EAAQJ,QAAQhC,MAAQ,MAEzB,CAAChD,EAAMiC,SAGR,6BAASzC,UAAS,2BAAsBQ,EAAMiC,OAAS,eAAiB,KACtE,0BAAMzC,UAAU,+BAA+BwB,KAAK,OAAO6B,SAnB/D,SAAsBC,GACpBA,EAAEC,iBAEF/C,EAAM6C,SAAS,CACb7B,KAAMmE,EAASH,QAAQhC,MACvB/B,KAAMmE,EAAQJ,QAAQhC,SAc6Dd,YAAU,GAC3F,4BAAQ1C,UAAU,iCAAiCoB,KAAK,SAASC,QAASb,EAAMmC,UAChF,wBAAI3C,UAAU,kCAAd,iEACA,2BAAOyF,IAAKE,EAAU3F,UAAU,+BAA+BuB,GAAG,cAAcH,KAAK,OAAOI,KAAK,OAAOmC,YAAY,mDAAWC,UAAU,IAAIC,UAAU,KAAKC,UAAQ,IACpK,0BAAM9D,UAAU,eAAeuB,GAAG,sBAClC,2BAAOkE,IAAKG,EAAS5F,UAAU,+BAA+BuB,GAAG,aAAaH,KAAK,MAAMI,KAAK,OAAOmC,YAAY,qGAAqBG,UAAQ,IAC9I,0BAAM9D,UAAU,eAAeuB,GAAG,qBAClC,4BAAQvB,UAAU,mCAAmCoB,KAAK,UAA1D,iDC6GOyE,MA/Hf,WAAgB,IAAD,EAC6CxF,IAAM2C,UAAS,GAD5D,mBACN8C,EADM,KACkBC,EADlB,OAEuC1F,IAAM2C,UAAS,GAFtD,mBAENgD,EAFM,KAEeC,EAFf,OAG2C5F,IAAM2C,UAAS,GAH1D,mBAGNkD,EAHM,KAGiBC,EAHjB,OAI2B9F,IAAM2C,SAAS,CAAExB,KAAM,KAAMC,KAAM,KAAMuC,MAAM,IAJ1E,mBAINoC,EAJM,KAIQC,EAJR,OAKyBhG,IAAM2C,SAAS,CAAExB,KAAM,iEAAgBS,MAAO,sHAAwBF,OAAQuE,MALvG,mBAKNC,EALM,KAKOC,EALP,KA8Bb,SAASC,IACPN,GAAuB,GACvBF,GAAqB,GACrBF,GAAwB,GACxBM,EAAgB,2BAAKD,GAAN,IAAoBpC,MAAM,KA3B3C3D,IAAM+C,WAAU,WACda,EAAIyC,cACDlC,MAAK,SAACC,GACL+B,EAAe/B,GACfkC,QAAQC,IAAInC,MAEboC,OAAM,SAACC,GACNH,QAAQC,IAAIE,QAEf,IAhBU,MA+DazG,IAAM2C,SAAS,IA/D5B,mBA+DNb,EA/DM,KA+DC4E,EA/DD,KA6Gb,OA5CA1G,IAAM+C,WAAU,WAEda,EAAI+C,kBACDxC,MAAK,SAACC,GACLsC,EAAStC,MAEVoC,OAAM,SAACC,GACNH,QAAQC,IAAIE,QAEf,IAoCD,kBAAC1G,EAAmB6G,SAApB,CAA6BzD,MAAO+C,GAClC,yBAAKvG,UAAU,QACb,kBAAC,EAAD,CAAkByC,OAAQqD,EAAwBnD,QAAS8D,EAAgBpD,SAvEjF,SAA0B5C,GACxBwD,EAAIiD,aAAazG,GACd+D,MAAK,WACJgC,EAAe,2BAAKD,GAAN,IAAmB/E,KAAMf,EAAKe,KAAMS,MAAOxB,EAAKwB,SAC9DwE,OAEDI,OAAM,SAACC,GACNH,QAAQC,IAAIE,SAiEZ,kBAAC,EAAD,CAAerE,OAAQuD,EAAqBrD,QAAS8D,EAAgBpD,SAd3E,SAA8BhB,GAC5B4B,EAAIkD,YAAY9E,GAAMmC,MAAK,SAAC4C,GAC1BL,EAAS,GAAD,mBAAK5E,GAAL,CAAYiF,KACpBX,OAECI,OAAM,SAACC,GACNH,QAAQC,IAAIE,SASZ,kBAAC,EAAD,CAAetF,KAAK,UAAUoB,MAAM,2DAAcE,OAAO,iBAGzD,kBAAC,EAAD,CAAiBL,OAAQyD,EAAuBvD,QAAS8D,EAAgBpD,SAjE/E,SAA4BtB,GAC1BkC,EAAIoD,aAAatF,GACdyC,MAAK,WACJgC,EAAe,2BAAKD,GAAN,IAAmBxE,OAAQA,EAAOA,UAChD0E,OAEDI,OAAM,SAACC,GACNH,QAAQC,IAAIE,SA2DZ,kBAAC,EAAD,CAAYzE,KAAM+D,EAAczD,QAAS8D,IACzC,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAMtE,MAAOA,EAAOR,WA5C1B,SAAwBU,GACtB,IAAMvB,EAAUuB,EAAKtB,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEJ,MAAQ0F,EAAY1F,OAE3DoD,EAAIqD,qBAAqBjF,EAAKd,GAAIT,GAC/B0D,MAAK,SAAC4C,GACL,IAAMG,EAAWpF,EAAMC,KAAI,SAACoF,GAAD,OAAOA,EAAE3G,MAAQwB,EAAKd,GAAK6F,EAAUI,KAChET,EAASQ,MAEVV,OAAM,SAACC,GACNH,QAAQC,IAAIE,OAmCoCxF,aA/BtD,SAA0BC,GACxB0C,EAAIwD,WAAWlG,GAAIiD,MAAK,WACtB,IAAM+C,EAAWpF,EAAMuF,QAAO,SAACF,GAAD,OAAOA,EAAE3G,MAAQU,KAC/CwF,EAASQ,MAERV,OAAM,SAACC,GACNH,QAAQC,IAAIE,OAyBoE9E,cAlGtF,WACE+D,GAAwB,IAiGmG7D,WA9F7H,WACE+D,GAAqB,IA6FuInE,aAtG9J,WACEqE,GAAuB,IAqG0KzE,YAnFnM,SAAyBF,EAAMC,GAC7B4E,EAAgB,CAAE7E,OAAMC,OAAMuC,MAAM,OAmFhC,kBAAC,EAAD,SC3HY2D,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB/D,MAAK,SAAAgE,GACJA,EAAaC,gBAEd5B,OAAM,SAAA6B,GACL/B,QAAQ+B,MAAMA,EAAMC,a,kBEzI5B9I,EAAOC,QAAU,IAA0B,oC","file":"static/js/main.565a828a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/profile-img.32b3b42c.jpg\";","import React from 'react';\r\nimport headerLogo from '../images/mesto.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={headerLogo} alt=\"Логотип\" />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n  const isOwn = props.owner === user._id;\r\n  const isLiked = props.likes.some(i => i._id === user._id);\r\n  const cardDeleteButtonClassName = `place__bin ${isOwn ? ' ' : 'place__bin_hidden'}`;\r\n  const cardLikeButtonClassName = `place__like-button ${isLiked ? 'place__like-button_active' : ' '}`;\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.name, props.link);\r\n  }\r\n\r\n  \r\n  function handleLikeClick() {\r\n    props.onCardLike(props)\r\n  }\r\n\r\n  \r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.id)\r\n  }\r\n\r\n  return (\r\n    <article className=\"place\">\r\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\r\n      <img className=\"place__photo\" alt={props.name} src={props.link} onClick={handleClick} />\r\n      <h2 className=\"place__title\">{props.name}</h2>\r\n      <div className=\"place__like\">\r\n        <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\r\n        <span className=\"place__like-count\">{props.likes.length}</span>\r\n      </div>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Main(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n\r\n  \r\n  return (\r\n    <main className=\"content\">\r\n    <section className=\"profile\">\r\n      <button className=\"profile__img-hover\" onClick={props.onEditAvatar}>\r\n        <img className=\"profile__img\" src={user.avatar} alt=\"Аватар\" />\r\n      </button>\r\n      <div className=\"profile-info\">\r\n        <h1 className=\"profile-info__name\">{user.name}</h1>\r\n        <button className=\"profile-info__change\" type=\"button\" onClick={props.onEditProfile}></button>\r\n        <p className=\"profile-info__status\">{user.about}</p>\r\n      </div>\r\n      <button className=\"profile__add\" type=\"button\" onClick={props.onAddPlace}></button>\r\n    </section>\r\n    <section className=\"places\">\r\n      {props.cards.map((card) => (<Card key={card._id} id={card._id} name={card.name} link={card.link} likes={card.likes} owner={card.owner._id} \r\n      onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />))}\r\n  </section>\r\n  </main>\r\n  )\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n  return (\r\n    <section className={`popup popup-${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\r\n      <form className={`popup__form popup-${props.name}__form`} name={props.name} noValidate>\r\n        <button className={`popup__close popup-${props.name}__close`} type=\"button\" onClick={props.onClose}></button>\r\n        <h2 className={`popup__title popup-${props.name}__title\"`}>{props.title}</h2>\r\n        {props.children}\r\n        <button className={`popup__submit popup-${props.name}__submit`} type=\"submit\">{props.submit}</button>\r\n      </form>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(user.name);\r\n    setDescription(user.about);\r\n  }, [user]);\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onSubmit({\r\n      name,\r\n      about: description,\r\n    });\r\n  } \r\n\r\n  return (\r\n    <section className={`popup popup-profile ${props.isOpen ? 'popup_opened' : ''}`}>\r\n      <form className=\"popup__form popup-profile__form\" name=\"profile\" onSubmit={handleSubmit} noValidate>\r\n        <button className=\"popup__close popup-profile__close\" type=\"button\" onClick={props.onClose}></button>\r\n        <h2 className=\"popup__title popup-profile__title\">Редактировать профиль</h2>\r\n        <input className=\"popup__text popup-profile__text\" value={name} onChange={handleNameChange} id=\"name-input\" type=\"text\" name=\"name\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" required />\r\n        <span className=\"popup__error\" id=\"name-input-error\"></span>\r\n        <input className=\"popup__text popup-profile__text\" value={description} onChange={handleDescriptionChange} id=\"status-input\" type=\"text\" name=\"about\" placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" required />\r\n        <span className=\"popup__error\" id=\"status-input-error\"></span>\r\n        <button className=\"popup__submit popup-profile__submit\" type=\"submit\">Сохранить</button>\r\n      </form>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n\r\n  return (\r\n    <section className={`popup popup-pic ${props.card.open ? 'popup_opened' : ''}`}>\r\n    <figure className=\"popup-pic__figure\">\r\n      <button className=\"popup__close popup-pic__close\" type=\"button\" onClick={props.onClose}></button>\r\n      <img className=\"popup-pic__img\" alt={props.card.name} src={props.card.link} />\r\n      <figcaption className=\"popup-pic__title\">{props.card.name}</figcaption>\r\n    </figure>\r\n  </section>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n  constructor({baseUrl, headers}) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers\r\n      }).then((res) => {\r\n        if(res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers\r\n      }).then((res) => {\r\n        if(res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  sendUserInfo(data) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n      }).then((res) => {\r\n        if(res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  postNewCard(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n      }).then((res) => {\r\n        if(res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n      }).then((res) => {\r\n        if(res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  changeLikeCardStatus(id, isLiked) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n      method: `${isLiked ? 'DELETE' : 'PUT'}`,\r\n      headers: this._headers\r\n      }).then((res) => {\r\n        if(res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  dislikeCard(id) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n      }).then((res) => {\r\n        if(res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  changeAvatar(data) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar\r\n      })\r\n      }).then((res) => {\r\n        if(res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\r\n  headers: {\r\n    authorization: 'c6fbdf87-9fb5-4058-8a57-a3f72470dc3f',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});","import React from 'react';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const imageSrc = React.useRef();\r\n \r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n  \r\n    props.onSubmit({\r\n      avatar: imageSrc.current.value\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if(props.isOpen) {\r\n      imageSrc.current.value = \"\";\r\n    }\r\n  }, [props.isOpen])\r\n  \r\n  return (\r\n    <section className={`popup popup-avatar ${props.isOpen ? 'popup_opened' : ''}`}>\r\n      <form className=\"popup__form popup-avatar__form\" name=\"avatar\" onSubmit={handleSubmit} noValidate>\r\n        <button className=\"popup__close popup-avatar__close\" type=\"button\" onClick={props.onClose}></button>\r\n        <h2 className=\"popup__title popup-avatar__title\">Обновить аватар</h2>\r\n        <input ref={imageSrc} className=\"popup__text popup-avatar__text\" id=\"link-input\" type=\"url\" name=\"avatar\" placeholder=\"Ссылка на картинку\" required />\r\n        <span className=\"popup__error\" id=\"link-input-error\"></span>\r\n        <button className=\"popup__submit popup-avatar__submit\" type=\"submit\">Сохранить</button>\r\n      </form>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const cardName = React.useRef();\r\n  const cardSrc = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n  \r\n    props.onSubmit({\r\n      name: cardName.current.value,\r\n      link: cardSrc.current.value\r\n    });\r\n    \r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if(props.isOpen) {\r\n      cardName.current.value = \"\";\r\n      cardSrc.current.value = \"\";\r\n    }\r\n  }, [props.isOpen])\r\n\r\n  return (\r\n    <section className={`popup popup-card ${props.isOpen ? 'popup_opened' : ''}`}>\r\n      <form className=\"popup__form popup-card__form\" name=\"card\" onSubmit={handleSubmit} noValidate>\r\n        <button className=\"popup__close popup-card__close\" type=\"button\" onClick={props.onClose}></button>\r\n        <h2 className=\"popup__title popup-card__title\">Новое место</h2>\r\n        <input ref={cardName} className=\"popup__text popup-card__text\" id=\"title-input\" type=\"text\" name=\"name\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\" required />\r\n        <span className=\"popup__error\" id=\"title-input-error\"></span>\r\n        <input ref={cardSrc} className=\"popup__text popup-card__text\" id=\"link-input\" type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\" required />\r\n        <span className=\"popup__error\" id=\"link-input-error\"></span>\r\n        <button className=\"popup__submit popup-card__submit\" type=\"submit\">Создать</button>\r\n      </form>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport EditProfilePopup from './EditProfilePopup';\nimport ImagePopup from './ImagePopup';\nimport { api } from '../utils/api';\nimport userAvatarDefault from '../images/profile-img.jpg';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\n\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({ name: null, link: null, open: false });\n  const [currentUser, setCurrentUser] = React.useState({ name: 'Жак-Ив Кусто', about: 'Исследователь океана', avatar: userAvatarDefault });\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((res) => {\n        setCurrentUser(res);\n        console.log(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setSelectedCard({ ...selectedCard, open: false });\n  }\n\n  function handleCardClick(name, link) {\n    setSelectedCard({ name, link, open: true });\n  }\n\n  function handleUpdateUser(user) {\n    api.sendUserInfo(user)\n      .then(() => {\n        setCurrentUser({ ...currentUser, name: user.name, about: user.about });\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(avatar) {\n    api.changeAvatar(avatar)\n      .then(() => {\n        setCurrentUser({ ...currentUser, avatar: avatar.avatar });\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n\n    api.getInitialCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card.id, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card.id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(id) {\n    api.deleteCard(id).then(() => {\n      const newCards = cards.filter((c) => c._id !== id);\n      setCards(newCards);\n    })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlaceSubmit(card) {\n    api.postNewCard(card).then((newCard) => {\n      setCards([...cards, newCard]);\n      closeAllPopups();\n    })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onSubmit={handleUpdateUser} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onSubmit={handleAddPlaceSubmit} />\n        <PopupWithForm name=\"confirm\" title=\"Вы уверены?\" submit=\"Да\">\n\n        </PopupWithForm>\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onSubmit={handleUpdateAvatar} />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        <Header />\n        <Main cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} />\n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/mesto.e889e45f.svg\";"],"sourceRoot":""}